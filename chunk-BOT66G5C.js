import{E as rt,F as T,G as lt,H as mt,K as pt,L as ct,M as dt,N as st,P as ut,Q as ft,R as _t,S as Ct,U as xt,V as yt,Y as ht,a as z,c as G,h as L,i as K,j as q,k as Y,l as Z,m as J,n as Q,o as U,p as X,q as tt,s as et,t as nt}from"./chunk-AIT7CSDL.js";import{T as H,X as W,Z as j,_ as it,a as B,ca as ot,da as at,ea as gt}from"./chunk-RKHDR45D.js";import{Ab as M,Db as x,Fb as m,Mb as F,Nb as c,Ob as w,Pb as S,Qb as I,Rb as R,Sb as O,Ta as l,Ua as b,Ub as N,Vb as k,Yb as V,a as _,b as C,ia as P,jb as d,lb as p,qa as y,ra as h,rc as $,sc as A,ub as o,vb as r,wb as g,xb as u,yb as f}from"./chunk-O7MMKI7C.js";var E={name:{label:"name",input_type:"text",toolTip:"Name",type:"input"},password:{label:"passsword",input_type:"text",toolTip:"Password",type:"input"},state:{label:"Select State",input_type:"text",toolTip:"state",type:"dropdown"},number:{label:"number",input_type:"number",toolTip:"state",type:"input"}};function Mt(e){let a=e.value;return typeof a=="string"&&a.includes(" ")?{noSpaceError:!0}:null}var St=()=>({standalone:!0});function bt(e,a){if(e&1&&(o(0,"mat-form-field",17)(1,"mat-label"),c(2),r(),g(3,"input",18),r()),e&2){let t=m().$implicit;l(2),w(t),l(),p("formControlName",t)}}function wt(e,a){if(e&1&&(o(0,"mat-form-field"),g(1,"input",18),r()),e&2){let t=m().$implicit;l(),p("formControlName",t)}}function Tt(e,a){if(e&1&&(o(0,"mat-form-field",17)(1,"mat-label"),c(2),r(),o(3,"mat-select",19)(4,"mat-option",20),c(5,"Andhra Pradesh"),r()()()),e&2){let t=m().$implicit;l(2),w(t),l(),p("formControlName",t)}}function Et(e,a){if(e&1&&(o(0,"div"),u(1),o(2,"p",14),c(3),r(),o(4,"div"),d(5,bt,4,2,"mat-form-field",15),r(),o(6,"div"),d(7,wt,2,1,"mat-form-field",16),r(),d(8,Tt,6,2,"mat-form-field",15),f(),r()),e&2){let t=a.$implicit,n=m();l(3),S("",t,":"),l(2),p("ngIf",n.getType(t)==="input"&&t==="name"),l(2),p("ngIf",n.getType(t)==="input"&&t==="password"),l(),p("ngIf",n.getType(t)==="dropdown"&&t==="state")}}function vt(e,a){if(e&1&&(o(0,"th",22),c(1),r()),e&2){let t=m().$implicit;l(),S(" ",t," ")}}function Dt(e,a){if(e&1){let t=M();u(0),o(1,"mat-form-field")(2,"input",25),O("ngModelChange",function(i){y(t);let s=m().$implicit,v=m().$implicit,D=m();return R(s[D.columsToDataMapping[v]],i)||(s[D.columsToDataMapping[v]]=i),h(i)}),r()(),f()}if(e&2){let t=m().$implicit,n=m().$implicit,i=m();l(2),I("ngModel",t[i.columsToDataMapping[n]]),p("ngModelOptions",k(2,St))}}function Pt(e,a){if(e&1&&c(0),e&2){let t=m().$implicit,n=m().$implicit,i=m();S(" ",t[i.columsToDataMapping[n]]," ")}}function Ft(e,a){if(e&1&&(o(0,"td",23),d(1,Dt,3,3,"ng-container",24)(2,Pt,1,1,"ng-template",null,0,V),r()),e&2){let t=a.$implicit,n=F(3);l(),p("ngIf",t.isEditable)("ngIfElse",n)}}function It(e,a){if(e&1&&(u(0,21),d(1,vt,2,1,"th",8)(2,Ft,4,2,"td",9),f()),e&2){let t=a.$implicit;p("matColumnDef",t)}}function Rt(e,a){e&1&&(o(0,"th",22),c(1,"Edit"),r())}function Ot(e,a){if(e&1){let t=M();o(0,"td",23)(1,"button",26),x("click",function(){let i=y(t).$implicit,s=m();return h(s.onEditClick(i))}),o(2,"mat-icon"),c(3," edit "),r()()()}}function Nt(e,a){e&1&&(o(0,"th",22),c(1,"Cancel"),r())}function kt(e,a){if(e&1){let t=M();o(0,"td",23)(1,"button",26),x("click",function(){let i=y(t).$implicit,s=m();return h(s.onCancelClick(i))}),o(2,"mat-icon"),c(3," cancel "),r()()()}}function Vt(e,a){e&1&&(o(0,"th",22),c(1,"Delete"),r())}function $t(e,a){e&1&&(o(0,"td",23)(1,"button",27)(2,"mat-icon"),c(3,"delete"),r()()())}function At(e,a){e&1&&g(0,"tr",28)}function Bt(e,a){e&1&&g(0,"tr",29)}var ae=(()=>{class e{constructor(t,n){this.formBuilder=t,this.http=n,this.columsToDataMapping={id:"id",Name:"username","E-mail":"email",WebSite:"website"},this.dataSource=new nt([]),this.columnsToDisplay=Object.keys(this.columsToDataMapping),this.columnsToDisplayWithAction=[...this.columnsToDisplay,"edit","cancel","delete"],this.isEdit=!1,this.data=ht,this.tableData=[],this.originalRowMap={}}ngOnInit(){this.buildForm(),this.loadData()}onSubmit(){console.log(this.userForm.getRawValue()),console.log(this.userForm.value)}buildForm(){let t=["name","password","state"],n={};t.forEach(i=>{this.data.hasOwnProperty(i)&&(n[i]=this.formBuilder.control(this.data[i]??"",[T.required]))}),this.data.hasOwnProperty("newValue")&&(n.newvalue=this.formBuilder.control("",[T.required,Mt])),this.userForm=this.formBuilder.group(n)}getType(t){return E[t.toLowerCase()].type}getInputType(t){return E[t.toLowerCase()].input_type}get dataKeys(){return Object.keys(this.data)}loadData(){this.http.get("https://jsonplaceholder.typicode.com/users").subscribe({next:t=>{this.dataSource.data=t},error:t=>{console.log("err",t)}})}onAddNewRow(){let t={id:null,name:"",email:"",isEditable:!0,isNew:!0};this.dataSource.data=[t,...this.dataSource.data.map(n=>C(_({},n),{isEditable:!1}))]}onEditClick(t){console.log(t.id),this.originalRowMap[t.id]??=_({},t),this.dataSource.data=this.dataSource.data.map(n=>C(_({},n),{isEditable:n.id==t.id}))}onCancelClick(t){let n=this.originalRowMap[t.id];n&&(this.dataSource.data=this.dataSource.data.map(i=>i.id===t.id?C(_({},n),{isEditable:!1}):C(_({},i),{isEditable:!1})),delete this.originalRowMap[t.id])}static{this.\u0275fac=function(n){return new(n||e)(b(ut),b(B))}}static{this.\u0275cmp=P({type:e,selectors:[["app-payroll"]],standalone:!0,features:[N],decls:21,vars:6,consts:[["viewMode",""],[3,"ngSubmit","formGroup"],[4,"ngFor","ngForOf"],["mat-raised-button",""],["mat-stroked-button","",3,"click"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cancel"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"field-key"],["appearance","fill",4,"ngIf"],[4,"ngIf"],["appearance","fill"],["matInput","","type","text",3,"formControlName"],[3,"formControlName"],["value","ap"],[3,"matColumnDef"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["matInput","",3,"ngModelChange","ngModel","ngModelOptions"],["mat-button","",3,"click"],["mat-button",""],["mat-header-row",""],["mat-row",""]],template:function(n,i){n&1&&(o(0,"form",1),x("ngSubmit",function(){return i.onSubmit()}),d(1,Et,9,4,"div",2),o(2,"button",3),c(3,"submit"),r()(),o(4,"mat-card")(5,"mat-card-content")(6,"button",4),x("click",function(){return i.onAddNewRow()}),c(7,"Add row"),r(),o(8,"table",5),d(9,It,3,1,"ng-container",6),u(10,7),d(11,Rt,2,0,"th",8)(12,Ot,4,0,"td",9),f(),u(13,10),d(14,Nt,2,0,"th",8)(15,kt,4,0,"td",9),f(),u(16,11),d(17,Vt,2,0,"th",8)(18,$t,4,0,"td",9),f(),d(19,At,1,0,"tr",12)(20,Bt,1,0,"tr",13),r()()()),n&2&&(p("formGroup",i.userForm),l(),p("ngForOf",i.dataKeys),l(7),p("dataSource",i.dataSource),l(),p("ngForOf",i.columnsToDisplay),l(10),p("matHeaderRowDef",i.columnsToDisplayWithAction),l(),p("matRowDefColumns",i.columnsToDisplayWithAction))},dependencies:[ft,ct,rt,lt,mt,pt,_t,dt,st,at,ot,it,yt,xt,j,W,A,$,Ct,z,H,gt,G,et,L,q,Q,Y,K,U,Z,J,X,tt],styles:[".dropZone[_ngcontent-%COMP%]{display:flex;border:1px;color:#000}.dropzone-container[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:40px;text-align:center;background-color:#fafafa;transition:all .3s ease;cursor:pointer;display:flex;flex-direction:column;align-items:center}.dropzone-container.dragover[_ngcontent-%COMP%]{border-color:#3f51b5;background-color:#e8eaf6;transform:scale(1.02)}.upload-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:10px;color:#757575}"]})}}return e})();export{ae as PayrollComponent};
