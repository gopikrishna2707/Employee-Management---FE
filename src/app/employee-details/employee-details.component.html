<mat-card class="content-margin-30">
  <mat-card-content>
    <div class="margin-small-top form-container">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Search employee</mat-label>
        <mat-icon matPrefix>search</mat-icon>
        <input
          type="text"
          matInput
          id="search-project-input"
          (keyup)="onSearch($event)"
        />
      </mat-form-field>

      <button mat-stroked-button (click)="redirectTo()">Add Employee</button>
    </div>

    <div>
      <table mat-table matSort [dataSource]= "dataSource">
        <ng-container
          *ngFor="let column of columnsToDisplay"
          [matColumnDef]="column"
        >
          <th
            mat-header-cell
            *matHeaderCellDef
            [mat-sort-header]="columnsToDataMapping[column]"
          >
            {{ column }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element[columnsToDataMapping[column]] || "-" }}
          </td>
        </ng-container>
        <ng-container matColumnDef="editDetails">
          <th mat-header-cell *matHeaderCellDef>Edit details</th>
          <td mat-cell *matCellDef="let element">
            <button mat-button (click)="clickOnEditDetails(element.eid)">
              <mat-icon>edit</mat-icon>
            </button>
          </td>
        </ng-container>
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button (click)="clickOnDeleteDetails(element)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithAction"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: columnsToDisplayWithAction"
        ></tr>
        <tr
          class="margin-small-top"
          *matNoDataRow
          [attr.colspan]="columnsToDisplayWithAction.length"
        >
          No Data Available
        </tr>
      </table>
      <mat-paginator #paginator showFirstLastButtons pageSize="10" [pageSizeOptions]="[10, 50, 100]">
      </mat-paginator>
    </div>
    <div class="overlay" *ngIf= "isLoading">
      <div class="spinner"></div>
    </div>
  </mat-card-content>
</mat-card>
